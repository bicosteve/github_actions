name: Label Issues (Permissions Example)
on:
  issues:
    types:
      - opened
jobs:
  assign-label:
    permissions:
      # job level
      issues: write # means -> this job can only write to issues
    runs-on: ubuntu-latest
    steps:
      - name: Assign Label
        if: contains(github.event.issue.title,'bug')
        run: |
          curl -X POST \
          --url https://api.github.com/repos/${{github.repository}}/issues/${{github.event.issue.number }}/labels \
          -H 'authorization: Bearer ${{secrets.GITHUB_TOKEN}}' \
          -H 'content-type: application/json' \
          -d '{
               "labels": ['bug']
          }' \
          --fail
